#### Improvements

##### 1. shell 解释器

**功能：**

* 变量：支持双精度浮点类型与字符串
* 运算与操作：赋值操作；括号、加减乘除；
* 显示所有已经定义的变量和值
* 支持 echo 或 printf 格式化打印 double 类型变量与字符串变量

**技术实现：**

​	首先判断表达式是否合法，然后用两个栈对表达式进行解析。内核中创建一个文件维护变量信息，每次对变量操作时读入文件内容，最后将更改写入文件。

**难点：**

​	对于各种表达式格式正确性的判断，以及文件中存储变量的格式、读文件时解析变量格式。



##### 2. 文字颜色

**功能：**

* 支持 8 种颜色
* xvecho -fore -back 命令可以自定义显示的文字的前景色、背景色
* printf 函数接受4个参数，自定义显示的文字的前景色、高亮、背景色、背景闪烁

**技术实现：**

​	修改原来的IO读写函数，在vga的IO端口处的第二个字节传入自定义的颜色信息。

**难点：**

​	需要自顶向下更改不同层次的方法，同时顾及到与原来版本的兼容性。



##### 3. 关键词补全 & 高亮

**功能：**

* 采用编辑距离最小的衡量标准对输入词进行补全
* 判断输入的单词是否是关键词，如果是则显示为黄色高亮

**技术实现：**

​	采用动态规划算法计算编辑距离，取编辑距离最小的关键词作为匹配项。维护一个当前输入的单词链表记录单词高亮情况，动态进行调整。

**难点：**

​	删除高亮单词时需要动态修改链表结构，同时取消高亮；紫色光标在高亮单词上移动需要动态调整颜色。



##### 4. 操作别名

**功能：**

* 动态添加 (alias命令) 和删除 (unalias命令) 已有的操作的别名

**技术实现：**

​	将别名记录在文件中，每次遇到可能的别名时在文件中查找。
